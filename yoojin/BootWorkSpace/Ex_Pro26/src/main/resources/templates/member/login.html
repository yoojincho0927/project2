<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>

<script type="text/javascript">
	
	//여기서 post로 보내서 loginOk와 같은지 확인
	$(function(){
		
		$("#Btn").click(function() {
			let userid = $("#id").val();
			let password = $("#pw").val();
			
			//alert(userid + "\n" + password);
			
			const form = new FormData();
			form.append('loginid', userid);
			form.append('password', password);
			
			axios.post('/member/loginOk', form)
			  .then(function (response) {
			    console.log(response);
			    if(response.data){
			    	//alert('로그인 성공!!!!');
			    	location.href="/";
			    }else{
			    	alert('아이디 또는 비번이 일치하지 않습니다.')
			    }
			  })
			  .catch(function (error) {
			    console.log(error);
			    alert('실패');
			  });
		});
	});
</script>
</head>
<body>

	<h1>Login</h1>

	<!-- 
	<form action="loginOk" method="post" onsubmit="return formCheck();">
	 -->

		<input class="login" type="text" placeholder="아이디입력" name="loginid" id="id" required="required" /> 
		<input class="login" type="password" placeholder="비밀번호입력" id="pw" name="password" required="required" />

		<button id="Btn">로그인</button>
	<!--
	</form>
	  -->
	


	<a href="/member/idFind">아이디 찾기</a> |
	<a href="/member/passwordFind">비밀번호 찾기</a> |

</body>
</html>